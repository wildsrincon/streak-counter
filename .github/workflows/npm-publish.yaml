on: push

jobs:
 publish:
   runs-on: ubuntu-latest
   steps:
     - uses: actions/checkout@v1
     - uses: actions/setup-node@v1
       with:
           node-version: '14'
     - run: yarn install
     - run: yarn test
     - run: yarn build
     - run: npm publish
       env:
        NODE_AUTH_TOKEN: ${{secrets.NPM_TOKEN}}